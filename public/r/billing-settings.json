{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "billing-settings",
  "type": "registry:block",
  "title": "Billing Settings",
  "description": "A comprehensive billing settings component with tabs for general, payment methods, invoices, and usage limits",
  "dependencies": [
    "lucide-react",
    "sonner"
  ],
  "registryDependencies": [
    "button",
    "card",
    "switch",
    "badge",
    "dropdown-menu",
    "dialog",
    "input",
    "label"
  ],
  "files": [
    {
      "path": "src/registry/billingsdk/billing-settings.tsx",
      "content": "\"use client\"\n\nimport { Button } from \"@/components/ui/button\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Switch } from \"@/components/ui/switch\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuTrigger } from \"@/components/ui/dropdown-menu\"\nimport { ChevronDown, CreditCard, Plus } from \"lucide-react\"\n\nconst tabs = [\n  { id: \"general\", label: \"General\" },\n  { id: \"payment\", label: \"Payment\" },\n  { id: \"invoices\", label: \"Invoices\" },\n  { id: \"limits\", label: \"Limits\" },\n]\n\ninterface CardInfo {\n  id: string\n  last4: string\n  brand: string\n  expiry: string\n  primary?: boolean\n}\n\ninterface BillingSettingsProps {\n  \n  activeTab: string\n  onTabChange: (tab: string) => void\n\n  \n  emailNotifications: boolean\n  onEmailNotificationsChange: (value: boolean) => void\n\n  usageAlerts: boolean\n  onUsageAlertsChange: (value: boolean) => void\n\n  invoiceReminders: boolean\n  onInvoiceRemindersChange: (value: boolean) => void\n\n  \n  cards: CardInfo[]\n  onAddCard: () => void\n\n  \n  invoiceFormat: \"PDF\" | \"HTML\"\n  onInvoiceFormatChange: (format: \"PDF\" | \"HTML\") => void\n  onEditBillingAddress: () => void\n\n  \n  overageProtection: boolean\n  onOverageProtectionChange: (value: boolean) => void\n\n  usageLimitAlerts: boolean\n  onUsageLimitAlertsChange: (value: boolean) => void\n  className?: string\n}\n\ninterface SettingItemProps {\n  title: string\n  description: string\n  checked: boolean\n  onCheckedChange: (checked: boolean) => void\n}\n\nfunction SettingItem({ title, description, checked, onCheckedChange }: SettingItemProps) {\n  const switchId = `switch-${title.toLowerCase().replace(/\\s+/g, '-')}`;\n  \n  return (\n    <div className=\"grid grid-cols-1 sm:grid-cols-[1fr_auto] items-start py-4 gap-3 sm:gap-4 w-full\">\n      <div className=\"space-y-1 min-w-0\">\n        <h3 id={switchId} className=\"font-medium text-foreground break-words hyphens-auto\">\n          {title}\n        </h3>\n        <p className=\"text-sm text-muted-foreground break-words hyphens-auto\">\n          {description}\n        </p>\n      </div>\n      <div className=\"sm:justify-self-end\">\n        <Switch \n          id={switchId}\n          checked={checked}\n          onCheckedChange={onCheckedChange}\n          className=\"flex-shrink-0\"\n          aria-labelledby={`${switchId}-label`}\n        />\n      </div>\n    </div>\n  )\n}\n\ninterface TabNavigationProps {\n  activeTab: string\n  onTabChange: (tab: string) => void\n}\n\nfunction TabNavigation({ activeTab, onTabChange }: TabNavigationProps) {\n  return (\n    <div className=\"grid grid-cols-4 sm:flex sm:flex-wrap gap-0.5 sm:gap-1 rounded-lg bg-muted p-0.5 sm:p-1\">\n      {tabs.map((tab) => (\n        <button\n          key={tab.id}\n          onClick={() => {\n            onTabChange(tab.id)\n          }}\n          className={`w-full sm:flex-1 min-w-0 rounded-md px-1 py-2 sm:px-3 sm:py-2 text-[10px] sm:text-sm leading-tight tracking-tighter font-medium transition-colors cursor-pointer inline-flex items-center justify-center ${\n            activeTab === tab.id\n              ? \"bg-background text-foreground shadow-sm\"\n              : \"text-muted-foreground hover:text-foreground hover:bg-background/50\"\n          }`}\n        >\n          {tab.label}\n        </button>\n      ))}\n    </div>\n  )\n}\n\nexport function BillingSettings({\n  activeTab,\n  onTabChange,\n  emailNotifications,\n  onEmailNotificationsChange,\n  usageAlerts,\n  onUsageAlertsChange,\n  invoiceReminders,\n  onInvoiceRemindersChange,\n  cards,\n  onAddCard,\n  invoiceFormat,\n  onInvoiceFormatChange,\n  onEditBillingAddress,\n  overageProtection,\n  onOverageProtectionChange,\n  usageLimitAlerts,\n  onUsageLimitAlertsChange,\n  className,\n}: BillingSettingsProps) {\n  const renderGeneralContent = () => (\n    <div className=\"space-y-0 divide-y divide-border\">\n      <SettingItem\n        title=\"Email notifications\"\n        description=\"Receive billing updates via email\"\n        checked={emailNotifications}\n        onCheckedChange={onEmailNotificationsChange}\n      />\n      <SettingItem\n        title=\"Usage alerts\"\n        description=\"Get notified when approaching limits\"\n        checked={usageAlerts}\n        onCheckedChange={onUsageAlertsChange}\n      />\n      <SettingItem\n        title=\"Invoice reminders\"\n        description=\"Remind me before auto-renewal\"\n        checked={invoiceReminders}\n        onCheckedChange={onInvoiceRemindersChange}\n      />\n    </div>\n  )\n\n  const renderPaymentContent = () => (\n    <div className=\"space-y-4\">\n      {cards.map((card) => (\n        <div key={card.id} className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between rounded-lg border p-3 sm:p-4 gap-3\">\n          <div className=\"flex items-center space-x-2 sm:space-x-3 min-w-0 flex-1\">\n            <CreditCard className=\"h-6 w-6 sm:h-8 sm:w-8 text-muted-foreground flex-shrink-0\" />\n            <div className=\"min-w-0 flex-1\">\n              <div className=\"flex items-center space-x-2\">\n                <span className=\"font-mono text-xs sm:text-sm truncate\">•••• •••• •••• {card.last4}</span>\n              </div>\n              <p className=\"text-xs sm:text-sm text-muted-foreground truncate\">\n                {card.brand} • Expires {card.expiry}\n              </p>\n            </div>\n          </div>\n          {card.primary && <Badge variant=\"secondary\" className=\"flex-shrink-0 text-xs self-start sm:self-auto\">Primary</Badge>}\n        </div>\n      ))}\n      <Button variant=\"outline\" className=\"w-full bg-transparent\" onClick={onAddCard}>\n        <Plus className=\"mr-2 h-4 w-4\" />\n        <span className=\"hidden sm:inline\">Add new card</span>\n        <span className=\"sm:hidden\">Add card</span>\n      </Button>\n    </div>\n  )\n\n  const renderInvoicesContent = () => (\n    <div className=\"space-y-4 sm:space-y-6\">\n      <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-4\">\n        <div className=\"space-y-1 min-w-0 flex-1\">\n          <h3 className=\"font-medium text-foreground\">Invoice format</h3>\n          <p className=\"text-sm text-muted-foreground\">Choose PDF or HTML format</p>\n        </div>\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button variant=\"outline\" className=\"w-full sm:w-20 bg-transparent\">\n              {invoiceFormat}\n              <ChevronDown className=\"ml-2 h-4 w-4\" />\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent align=\"end\">\n            <DropdownMenuItem onClick={() => onInvoiceFormatChange(\"PDF\")}>PDF</DropdownMenuItem>\n            <DropdownMenuItem onClick={() => onInvoiceFormatChange(\"HTML\")}>HTML</DropdownMenuItem>\n          </DropdownMenuContent>\n        </DropdownMenu>\n      </div>\n      <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-4\">\n        <div className=\"space-y-1 min-w-0 flex-1\">\n          <h3 className=\"font-medium text-foreground\">Billing address</h3>\n          <p className=\"text-sm text-muted-foreground\">Update your billing address</p>\n        </div>\n        <Button variant=\"outline\" onClick={onEditBillingAddress} className=\"w-full sm:w-auto\">\n          Edit\n        </Button>\n      </div>\n    </div>\n  )\n\n  const renderLimitsContent = () => (\n    <div className=\"space-y-0 divide-y divide-border\">\n      <SettingItem\n        title=\"Overage protection\"\n        description=\"Prevent accidental overages\"\n        checked={overageProtection}\n        onCheckedChange={onOverageProtectionChange}\n      />\n      <SettingItem\n        title=\"Usage limit alerts\"\n        description=\"Alert at 80% and 95% usage\"\n        checked={usageLimitAlerts}\n        onCheckedChange={onUsageLimitAlertsChange}\n      />\n    </div>\n  )\n\n  const renderTabContent = () => {\n    switch (activeTab) {\n      case \"general\":\n        return renderGeneralContent()\n      case \"payment\":\n        return renderPaymentContent()\n      case \"invoices\":\n        return renderInvoicesContent()\n      case \"limits\":\n        return renderLimitsContent()\n      default:\n        return renderGeneralContent()\n    }\n  }\n\n  return (\n    <Card className={`mx-auto w-full max-w-2xl ${className || ''}`}>\n      <CardHeader className=\"space-y-4 px-4 sm:px-6\">\n        <CardTitle className=\"text-lg sm:text-xl\">Billing settings</CardTitle>\n        <TabNavigation activeTab={activeTab} onTabChange={onTabChange} />\n      </CardHeader>\n      <CardContent className=\"px-4 sm:px-6\">\n        <div className=\"w-full\">\n          {renderTabContent()}\n        </div>\n      </CardContent>\n    </Card>\n  )\n}\n",
      "type": "registry:component",
      "target": "components/billingsdk/billing-settings.tsx"
    },
    {
      "path": "src/registry/billingsdk/demo/billing-settings-demo.tsx",
      "content": "\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Toaster, toast } from \"sonner\"\r\nimport { BillingSettings } from \"@/components/billingsdk/billing-settings\"\r\n\r\ntype InvoiceFormat = \"PDF\" | \"HTML\"\r\n\r\ninterface Card {\r\n  id: string\r\n  last4: string\r\n  brand: \"Visa\" | \"MasterCard\" | \"Amex\" | \"Other\"\r\n  expiry: string\r\n  primary: boolean\r\n}\r\n\r\ninterface NewCardForm {\r\n  number: string\r\n  expiry: string\r\n  cvc: string\r\n}\r\n\r\nexport default function BillingSettingsDemo() {\r\n  const [activeTab, setActiveTab] = useState<\"general\" | \"payment\" | \"invoices\" | \"limits\">(\"general\")\r\n  const [emailNotifications, setEmailNotifications] = useState<boolean>(true)\r\n  const [usageAlerts, setUsageAlerts] = useState<boolean>(true)\r\n  const [invoiceReminders, setInvoiceReminders] = useState<boolean>(false)\r\n  const [cards, setCards] = useState<Card[]>([\r\n    { id: \"1\", last4: \"4242\", brand: \"Visa\", expiry: \"12/25\", primary: true },\r\n  ])\r\n  const [invoiceFormat, setInvoiceFormat] = useState<InvoiceFormat>(\"PDF\")\r\n  const [overageProtection, setOverageProtection] = useState<boolean>(true)\r\n  const [usageLimitAlerts, setUsageLimitAlerts] = useState<boolean>(true)\r\n  const [newCard, setNewCard] = useState<NewCardForm>({\r\n    number: \"\",\r\n    expiry: \"\",\r\n    cvc: \"\",\r\n  })\r\n  const [open, setOpen] = useState<boolean>(false)\r\n\r\n\r\n  const handleToggleEmailNotifications = (checked: boolean) => {\r\n    console.log(`Email notifications toggled to: ${checked}`)\r\n    setEmailNotifications(checked)\r\n  }\r\n\r\n  const handleToggleUsageAlerts = (checked: boolean) => {\r\n    console.log(`Usage alerts toggled to: ${checked}`)\r\n    setUsageAlerts(checked)\r\n  }\r\n\r\n  const handleToggleInvoiceReminders = (checked: boolean) => {\r\n    console.log(`Invoice reminders toggled to: ${checked}`)\r\n    setInvoiceReminders(checked)\r\n  }\r\n\r\n  const handleChangeInvoiceFormat = (format: InvoiceFormat) => {\r\n    console.log(`Invoice format changed to: ${format}`)\r\n    setInvoiceFormat(format)\r\n  }\r\n\r\n  const handleEditBillingAddress = () => {\r\n    console.log(\"Edit billing address button clicked\")\r\n    toast.info(\"Edit billing address clicked!\")\r\n  }\r\n\r\n  const handleToggleOverageProtection = (checked: boolean) => {\r\n    console.log(`Overage protection toggled to: ${checked}`)\r\n    setOverageProtection(checked)\r\n  }\r\n\r\n  const handleToggleUsageLimitAlerts = (checked: boolean) => {\r\n    console.log(`Usage limit alerts toggled to: ${checked}`)\r\n    setUsageLimitAlerts(checked)\r\n  }\r\n\r\n  const isValidCardNumber = (number: string): boolean => {\r\n    const normalized = number.replace(/\\s/g, \"\")\r\n    return normalized.length >= 13 && normalized.length <= 19 && /^\\d+$/.test(normalized)\r\n  }\r\n\r\n  const isValidExpiry = (expiry: string): boolean => {\r\n    if (!/^(0[1-9]|1[0-2])\\/?([0-9]{2})$/.test(expiry)) {\r\n      return false\r\n    }\r\n    const [month, year] = expiry.split('/').map(Number)\r\n    const currentYear = Number(String(new Date().getFullYear()).slice(-2))\r\n    const currentMonth = new Date().getMonth() + 1\r\n    if (year < currentYear || (year === currentYear && month < currentMonth)) {\r\n      return false\r\n    }\r\n    return true\r\n  }\r\n\r\n  const isValidCvc = (cvc: string): boolean => {\r\n    return /^\\d{3,4}$/.test(cvc)\r\n  }\r\n \r\n  const detectCardBrand = (number: string): Card[\"brand\"] => {\r\n    if (number.startsWith(\"4\")) return \"Visa\"\r\n    if (/^5[1-5]/.test(number)) return \"MasterCard\"\r\n    if (/^3[47]/.test(number)) return \"Amex\"\r\n    return \"Other\"\r\n  }\r\n\r\n  const handleAddCard = (): void => {\r\n    if (!isValidCardNumber(newCard.number)) {\r\n      toast.error(\"Please enter a valid card number.\")\r\n      return\r\n    }\r\n    if (!isValidExpiry(newCard.expiry)) {\r\n      toast.error(\"Please enter a valid expiry date (MM/YY) that's not in the past.\")\r\n      return\r\n    }\r\n    if (!isValidCvc(newCard.cvc)) {\r\n      toast.error(\"Please enter a valid CVC.\")\r\n      return\r\n    }\r\n    const last4 = newCard.number.slice(-4)\r\n    const brand = detectCardBrand(newCard.number)\r\n    const newCardData: Card = {\r\n      id: String(cards.length + 1),\r\n      last4,\r\n      brand,\r\n      expiry: newCard.expiry,\r\n      primary: cards.length === 0,\r\n    }\r\n    setCards([...cards, newCardData])\r\n    setNewCard({ number: \"\", expiry: \"\", cvc: \"\" })\r\n    setOpen(false)\r\n    toast.success(\"Card added successfully!\")\r\n  }\r\n\r\n  const formatCardNumber = (value: string): string => {\r\n    const rawValue = value.replace(/\\D/g, '');\r\n    const formattedValue = rawValue.match(/.{1,4}/g)?.join(' ') || '';\r\n    return formattedValue;\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      <BillingSettings\r\n        activeTab={activeTab}\r\n        onTabChange={(tab: string) => setActiveTab(tab as \"general\" | \"payment\" | \"invoices\" | \"limits\")}\r\n        emailNotifications={emailNotifications}\r\n        onEmailNotificationsChange={handleToggleEmailNotifications}\r\n        usageAlerts={usageAlerts}\r\n        onUsageAlertsChange={handleToggleUsageAlerts}\r\n        invoiceReminders={invoiceReminders}\r\n        onInvoiceRemindersChange={handleToggleInvoiceReminders}\r\n        cards={cards}\r\n        onAddCard={() => setOpen(true)}\r\n        invoiceFormat={invoiceFormat}\r\n        onInvoiceFormatChange={handleChangeInvoiceFormat}\r\n        onEditBillingAddress={handleEditBillingAddress}\r\n        overageProtection={overageProtection}\r\n        onOverageProtectionChange={handleToggleOverageProtection}\r\n        usageLimitAlerts={usageLimitAlerts}\r\n        onUsageLimitAlertsChange={handleToggleUsageLimitAlerts}\r\n      />\r\n      <Dialog open={open} onOpenChange={setOpen}>\r\n        <DialogContent>\r\n          <DialogHeader>\r\n            <DialogTitle>Add New Card</DialogTitle>\r\n          </DialogHeader>\r\n          <div className=\"space-y-4\">\r\n            <div>\r\n              <Label htmlFor=\"number\">Card Number</Label>\r\n              <Input\r\n                id=\"number\"\r\n                value={formatCardNumber(newCard.number)}\r\n                onChange={(e) => {\r\n                  const rawValue = e.target.value.replace(/\\s/g, '');\r\n                  setNewCard({ ...newCard, number: rawValue });\r\n                }}\r\n                placeholder=\"4111 1111 1111 1111\"\r\n              />\r\n            </div>\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div>\r\n                <Label htmlFor=\"expiry\">Expiry</Label>\r\n                <Input\r\n                  id=\"expiry\"\r\n                  value={newCard.expiry}\r\n                  onChange={(e) =>\r\n                    setNewCard({ ...newCard, expiry: e.target.value })\r\n                  }\r\n                  placeholder=\"MM/YY\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"cvc\">CVC</Label>\r\n                <Input\r\n                  id=\"cvc\"\r\n                  value={newCard.cvc}\r\n                  onChange={(e) =>\r\n                    setNewCard({ ...newCard, cvc: e.target.value })\r\n                  }\r\n                  placeholder=\"123\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <Button onClick={handleAddCard} className=\"w-full\">\r\n              Save Card\r\n            </Button>\r\n          </div>\r\n        </DialogContent>\r\n      </Dialog>\r\n      <Toaster />\r\n    </div>\r\n  )\r\n}",
      "type": "registry:component",
      "target": "components/billing-settings-demo.tsx"
    }
  ]
}