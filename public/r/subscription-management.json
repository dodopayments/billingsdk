{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "subscription-management",
  "type": "registry:block",
  "title": "Subscription Management",
  "description": "A subscription management component",
  "dependencies": [
    "lucide-react"
  ],
  "registryDependencies": [
    "button",
    "card",
    "badge",
    "separator",
    "utils",
    "https://billingsdk.com/r/cancel-subscription-dialog.json",
    "https://billingsdk.com/r/update-plan-dialog.json"
  ],
  "files": [
    {
      "path": "src/registry/billingsdk/subscription-management.tsx",
      "content": "\"use client\"\r\n\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { Separator } from \"@/components/ui/separator\"\r\nimport { Calendar, CreditCard } from \"lucide-react\"\r\nimport { CurrentPlan } from \"@/lib/billingsdk-config\"\r\nimport { cn } from \"@/lib/utils\"\r\nimport { CancelSubscriptionDialog, type CancelSubscriptionDialogProps } from \"@/components/billingsdk/cancel-subscription-dialog\"\r\nimport { UpdatePlanDialog, type UpdatePlanDialogProps } from \"@/components/billingsdk/update-plan-dialog\"\r\n\r\nexport interface SubscriptionManagementProps {\r\n    className?: string\r\n    currentPlan: CurrentPlan\r\n    cancelSubscription: CancelSubscriptionDialogProps\r\n    updatePlan: UpdatePlanDialogProps\r\n}\r\n\r\nexport function SubscriptionManagement({ className, currentPlan, cancelSubscription, updatePlan }: SubscriptionManagementProps) {\r\n\r\n    return (<div className={cn(\"text-left w-full\", className)}>\r\n        <Card className=\"shadow-lg\">\r\n            <CardHeader className=\"pb-4 sm:pb-6 px-4 sm:px-6\">\r\n                <CardTitle className=\"flex items-center gap-2 sm:gap-3 text-lg sm:text-xl\">\r\n                    <div className=\"p-1.5 sm:p-2 rounded-lg bg-primary/10 ring-1 ring-primary/20\">\r\n                        <CreditCard className=\"h-4 w-4 sm:h-5 sm:w-5 text-primary\" />\r\n                    </div>\r\n                    Current Subscription\r\n                </CardTitle>\r\n                <CardDescription className=\"text-sm sm:text-base\">Manage your billing and subscription settings</CardDescription>\r\n            </CardHeader>\r\n\r\n            <CardContent className=\"space-y-6 sm:space-y-8 px-4 sm:px-6\">\r\n                {/* Current Plan Details with highlighted styling */}\r\n                <div className=\"relative p-3 sm:p-4 rounded-xl bg-gradient-to-r from-muted/30 via-muted/20 to-muted/30 border border-border/50 overflow-hidden\">\r\n                    <div className=\"relative\">\r\n                        <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-0\">\r\n                            <div className=\"w-full\">\r\n                                <div className=\"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-2\">\r\n                                    <div className=\"flex items-center gap-2\">\r\n                                        <h3 className=\"text-lg sm:text-xl font-semibold\">{currentPlan.plan.title} Plan</h3>\r\n                                    </div>\r\n                                    <div className=\"flex flex-wrap items-center gap-2\">\r\n                                        <Badge\r\n                                            variant={currentPlan.status === \"active\" ? \"default\" : \"outline\"}\r\n                                            className=\"shadow-sm text-xs sm:text-sm bg-primary/90 hover:bg-primary border-0 font-medium\"\r\n                                        >\r\n                                            {currentPlan.type === `monthly` ? `${currentPlan.plan.currency}${currentPlan.plan.monthlyPrice}/month` : currentPlan.type === `yearly` ? `${currentPlan.plan.yearlyPrice}/year` : `${currentPlan.price}`}\r\n                                        </Badge>\r\n                                        <Badge\r\n                                            variant=\"outline\"\r\n                                            className=\"shadow-sm text-xs sm:text-sm border-border/60 bg-background/50 backdrop-blur-sm\"\r\n                                        >\r\n                                            {currentPlan.status}\r\n                                        </Badge>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"relative\">\r\n                                    <p className=\"text-xs sm:text-sm text-muted-foreground relative z-10\">\r\n                                        {currentPlan.plan.description}\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <Separator className=\"my-4 sm:my-6 bg-gradient-to-r from-transparent via-border to-transparent\" />\r\n\r\n                <div className=\"space-y-3 sm:space-y-4\">\r\n                    <h4 className=\"font-medium flex items-center gap-2 text-base sm:text-lg\">\r\n                        <div className=\"p-1 sm:p-1.5 rounded-md bg-muted ring-1 ring-border/50\">\r\n                            <Calendar className=\"h-3 w-3 sm:h-4 sm:w-4\" />\r\n                        </div>\r\n                        Billing Information\r\n                    </h4>\r\n                    <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-6\">\r\n                        <div className=\"group p-2.5 sm:p-3 rounded-lg md:bg-gradient-to-tl bg-gradient-to-b from-muted to-background/10 border border-border/30 hover:border-border/60 transition-all duration-200\">\r\n                            <span className=\"text-xs sm:text-sm text-muted-foreground block mb-1\">Next billing date</span>\r\n                            <div className=\"font-medium text-sm sm:text-base group-hover:text-primary transition-colors duration-200\">{currentPlan.nextBillingDate}</div>\r\n                        </div>\r\n                        <div className=\"group p-2.5 sm:p-3 rounded-lg md:bg-gradient-to-tr bg-gradient-to-b from-muted to-background/10 border border-border/30 hover:border-border/60 transition-all duration-200\">\r\n                            <span className=\"text-xs sm:text-sm text-muted-foreground block mb-1\">Payment method</span>\r\n                            <div className=\"font-medium text-sm sm:text-base group-hover:text-primary transition-colors duration-200\">{currentPlan.paymentMethod}</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <Separator className=\"my-4 sm:my-6 bg-gradient-to-r from-transparent via-border to-transparent\" />\r\n\r\n                <div className=\"flex flex-col sm:flex-row gap-3\">\r\n                    <UpdatePlanDialog\r\n                        className=\"mx-0 shadow-lg hover:shadow-xl transition-all duration-200\"\r\n                        {...updatePlan}\r\n                    />\r\n\r\n                    <CancelSubscriptionDialog\r\n                        className=\"mx-0 shadow-lg hover:shadow-xl transition-all duration-200\"\r\n                        {...cancelSubscription}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"pt-4 sm:pt-6\">\r\n                    <h4 className=\"font-medium mb-3 sm:mb-4 text-base sm:text-lg\">Current Plan Features</h4>\r\n                    <div className=\"flex flex-wrap gap-2 sm:gap-3\">\r\n                        {currentPlan.plan.features.map((feature, index) => (\r\n                            <div\r\n                                key={index}\r\n                                className=\"group flex items-center gap-2 p-2 sm:p-2 rounded-lg border border-border/80 hover:border-primary/30 hover:bg-primary/5 transition-all duration-200\"\r\n                            >\r\n                                <div className=\"w-1 h-1 sm:w-1.5 sm:h-1.5 rounded-full bg-primary flex-shrink-0 group-hover:bg-primary group-hover:scale-125 transition-all duration-200\"></div>\r\n                                <span className=\"text-xs sm:text-sm text-muted-foreground group-hover:text-foreground transition-colors duration-200\">{feature.name}</span>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </CardContent>\r\n        </Card>\r\n    </div>\r\n    )\r\n}",
      "type": "registry:component",
      "target": "components/billingsdk/subscription-management.tsx"
    },
    {
      "path": "src/registry/billingsdk/demo/subscription-management-demo.tsx",
      "content": "'use client'\r\n\r\nimport { SubscriptionManagement } from '@/components/billingsdk/subscription-management';\r\nimport { type CurrentPlan, plans } from '@/lib/billingsdk-config';\r\n\r\nexport function SubscriptionManagementDemo() {\r\n    const currentPlan: CurrentPlan = {\r\n        plan: plans[1],\r\n        type: 'monthly',\r\n        price: '$121',\r\n        nextBillingDate: 'January 15, 2025',\r\n        paymentMethod: 'Credit Card',\r\n        status: 'active'\r\n    }\r\n    return (\r\n        <div className=\"flex flex-1 flex-col justify-center text-center\">\r\n            <SubscriptionManagement\r\n                className=\"max-w-2xl mx-auto\"\r\n                currentPlan={currentPlan}\r\n                updatePlan={{\r\n                    currentPlan: currentPlan.plan,\r\n                    plans: plans,\r\n                    onPlanChange: (planId) => { console.log('update plan', planId) },\r\n                    triggerText: 'Update Plan'\r\n                }}\r\n                cancelSubscription={{\r\n                    title: 'Cancel Subscription',\r\n                    description: 'Are you sure you want to cancel your subscription?',\r\n                    leftPanelImageUrl: 'https://img.freepik.com/free-vector/abstract-paper-cut-shape-wave-background_474888-4649.jpg?semt=ais_hybrid&w=740&q=80',\r\n                    plan: currentPlan.plan,\r\n                    warningTitle: 'You will lose access to your account',\r\n                    warningText: 'If you cancel your subscription, you will lose access to your account and all your data will be deleted.',\r\n                    onCancel: async (planId) => {\r\n                        console.log('cancel subscription', planId)\r\n                        return new Promise((resolve) => {\r\n                            setTimeout(() => {\r\n                                resolve(void 0);\r\n                            }, 1000);\r\n                        });\r\n                    },\r\n                    onKeepSubscription: async (planId) => { console.log('keep subscription', planId) },\r\n                }}\r\n            />\r\n\r\n        </div>\r\n    );\r\n}\r\n",
      "type": "registry:component",
      "target": "components/subscription-management-demo.tsx"
    },
    {
      "path": "src/registry/lib/billingsdk-config.ts",
      "content": "export interface Plan {\r\n    id: string\r\n    title: string\r\n    description: string\r\n    highlight?: boolean\r\n    type?: 'monthly' | 'yearly'\r\n    currency?: string\r\n    monthlyPrice: string\r\n    yearlyPrice: string\r\n    buttonText: string\r\n    badge?: string\r\n    features: {\r\n        name: string\r\n        icon: string\r\n        iconColor?: string\r\n    }[]\r\n}\r\n\r\nexport interface CurrentPlan {\r\n    plan: Plan\r\n    type: 'monthly' | 'yearly' | 'custom'\r\n    price?: string\r\n    nextBillingDate: string\r\n    paymentMethod: string\r\n    status: 'active' | 'inactive' | 'past_due' | 'cancelled'\r\n}\r\n\r\nexport const plans: Plan[] = [\r\n    {\r\n        id: 'starter',\r\n        title: 'Starter',\r\n        description: 'For developers testing out Liveblocks locally.',\r\n        currency: '$',\r\n        monthlyPrice: '0',\r\n        yearlyPrice: '0',\r\n        buttonText: 'Start today for free',\r\n        features: [\r\n            {\r\n                name: 'Presence',\r\n                icon: \"check\",\r\n                iconColor: 'text-green-500'\r\n            },\r\n            {\r\n                name: 'Comments',\r\n                icon: \"check\",\r\n                iconColor: 'text-orange-500'\r\n            },\r\n            {\r\n                name: 'Notifications',\r\n                icon: \"check\",\r\n                iconColor: 'text-teal-500'\r\n            },\r\n            {\r\n                name: 'Text Editor',\r\n                icon: \"check\",\r\n                iconColor: 'text-blue-500'\r\n            },\r\n            {\r\n                name: 'Sync Datastore',\r\n                icon: \"check\",\r\n                iconColor: 'text-zinc-500'\r\n            }\r\n        ],\r\n    },\r\n    {\r\n        id: 'pro',\r\n        title: 'Pro',\r\n        description: 'For companies adding collaboration in production.',\r\n        currency: '$',\r\n        monthlyPrice: '20',\r\n        yearlyPrice: '199',\r\n        buttonText: 'Sign up',\r\n        badge: 'Most popular',\r\n        highlight: true,\r\n        features: [\r\n            {\r\n                name: 'Presence',\r\n                icon: \"check\",\r\n                iconColor: 'text-green-500'\r\n            },\r\n            {\r\n                name: 'Comments',\r\n                icon: \"check\",\r\n                iconColor: 'text-orange-500'\r\n            },\r\n            {\r\n                name: 'Notifications',\r\n                icon: \"check\",\r\n                iconColor: 'text-teal-500'\r\n            },\r\n            {\r\n                name: 'Text Editor',\r\n                icon: \"check\",\r\n                iconColor: 'text-blue-500'\r\n            },\r\n            {\r\n                name: 'Sync Datastore',\r\n                icon: \"check\",\r\n                iconColor: 'text-zinc-500'\r\n            }\r\n        ],\r\n    },\r\n    {\r\n        id: 'enterprise',\r\n        title: 'Enterprise',\r\n        description: 'For organizations that need more support and compliance features.',\r\n        currency: '$',\r\n        monthlyPrice: 'Custom',\r\n        yearlyPrice: 'Custom',\r\n        buttonText: 'Contact sales',\r\n        features: [\r\n            {\r\n                name: 'Presence',\r\n                icon: \"check\",\r\n                iconColor: 'text-green-500'\r\n            },\r\n            {\r\n                name: 'Comments',\r\n                icon: \"check\",\r\n                iconColor: 'text-orange-500'\r\n            },\r\n            {\r\n                name: 'Notifications',\r\n                icon: \"check\",\r\n                iconColor: 'text-teal-500'\r\n            },\r\n            {\r\n                name: 'Text Editor',\r\n                icon: \"check\",\r\n                iconColor: 'text-blue-500'\r\n            },\r\n            {\r\n                name: 'Sync Datastore',\r\n                icon: \"check\",\r\n                iconColor: 'text-zinc-500'\r\n            }\r\n        ],\r\n    }\r\n];\r\n",
      "type": "registry:lib",
      "target": "lib/billingsdk-config.ts"
    }
  ]
}