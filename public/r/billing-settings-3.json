{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "billing-settings-3",
  "title": "Billing Settings 3",
  "description": "Premium billing dashboard with wallet balance and liquid UI payment methods",
  "dependencies": ["lucide-react", "motion"],
  "registryDependencies": ["button", "card", "utils"],
  "files": [
    {
      "path": "src/registry/billingsdk/billing-settings-three.tsx",
      "content": "\"use client\";\n\nimport { useState, ComponentPropsWithoutRef, useEffect, useRef } from \"react\";\nimport { motion, AnimatePresence, useInView, useMotionValue, useSpring } from \"motion/react\";\nimport {\n    CreditCard,\n    Wallet,\n    Plus,\n    ArrowUpRight,\n    ArrowDownLeft,\n    MoreHorizontal,\n    Trash2,\n    CheckCircle2\n} from \"lucide-react\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { cn } from \"@/lib/utils\";\nimport { useBilling } from \"@/lib/i18n-provider\";\n\n// --- Components ---\n\n\n// --- Card Logo Helper ---\n\nconst CardLogo = ({ type }: { type: string }) => {\n    const [error, setError] = useState(false);\n\n    const icons: Record<string, string> = {\n        visa: \"https://img.icons8.com/color/48/visa.png\",\n        mastercard: \"https://img.icons8.com/color/48/mastercard-logo.png\",\n        amex: \"https://img.icons8.com/color/48/amex.png\",\n        rupay: \"https://img.icons8.com/color/48/rupay.png\",\n    };\n\n    const logo = icons[type.toLowerCase()];\n\n    if (!logo || error) {\n        return (\n            <div className=\"w-12 h-8 bg-muted rounded flex items-center justify-center\">\n                <CreditCard className=\"w-5 h-5 text-muted-foreground/60\" />\n            </div>\n        );\n    }\n\n    return (\n        <img\n            src={logo}\n            alt={type}\n            className=\"h-6 w-auto object-contain\"\n            onError={() => setError(true)}\n        />\n    );\n};\n\n// --- Variants ---\n\nconst containerVariants = cva(\"w-full max-w-4xl mx-auto space-y-8\", {\n    variants: {\n        theme: {\n            minimal: \"\",\n            classic: \"p-6 bg-muted/10 rounded-xl border border-border/50\",\n        },\n    },\n    defaultVariants: {\n        theme: \"minimal\",\n    },\n});\n\nconst cardVariants = cva(\"overflow-hidden transition-all duration-300\", {\n    variants: {\n        theme: {\n            minimal: \"bg-background border-border/60 shadow-none hover:shadow-sm\",\n            classic: \"bg-card/50 backdrop-blur-sm border-border/50 shadow-md hover:shadow-xl\",\n        },\n    },\n    defaultVariants: {\n        theme: \"minimal\",\n    },\n});\n\n// --- Types ---\n\ninterface PaymentMethod {\n    id: string;\n    type: \"visa\" | \"mastercard\" | \"amex\" | \"rupay\";\n    last4: string;\n    expiry: string;\n    isDefault: boolean;\n}\n\ninterface Transaction {\n    id: string;\n    description: string;\n    amount: number;\n    date: string;\n    status: \"completed\" | \"pending\" | \"failed\";\n}\n\nexport interface BillingSettingsThreeProps extends VariantProps<typeof containerVariants> {\n    balance?: number;\n    balanceTrend?: number;\n    balanceTrendLabel?: string;\n    spend?: number;\n    spendTrend?: number;\n    spendTrendLabel?: string;\n    currency?: string;\n    paymentMethods?: PaymentMethod[];\n    transactions?: Transaction[];\n    addNewHref?: string;\n    onAddNew?: () => void;\n    className?: string;\n}\n\n// --- Component ---\n\nexport function BillingSettingsThree({\n    balance = 1250.00,\n    balanceTrend = 12.5,\n    balanceTrendLabel = \"from last month\",\n    spend = 432.50,\n    spendTrend = -2.4,\n    spendTrendLabel = \"Current billing cycle\",\n    currency = \"USD\",\n    paymentMethods: initialPaymentMethods,\n    transactions: initialTransactions,\n    addNewHref,\n    onAddNew,\n    theme = \"minimal\",\n    className,\n}: BillingSettingsThreeProps) {\n    const { formatCurrency, currency: currentCurrency, convert } = useBilling();\n\n    // Convert values from USD if needed\n    const convertedBalance = convert(balance, \"USD\", currentCurrency || currency);\n    const convertedSpend = convert(spend, \"USD\", currentCurrency || currency);\n\n    // Mock Data if not provided\n    const [methods, setMethods] = useState<PaymentMethod[]>(initialPaymentMethods || [\n        { id: \"1\", type: \"visa\", last4: \"4242\", expiry: \"12/25\", isDefault: true },\n        { id: \"2\", type: \"mastercard\", last4: \"8899\", expiry: \"08/26\", isDefault: false },\n    ]);\n\n    const [history] = useState<Transaction[]>(initialTransactions || [\n        { id: \"t1\", description: \"Pro Subscription\", amount: 29.00, date: \"Oct 24, 2024\", status: \"completed\" },\n        { id: \"t2\", description: \"Credits Top-up\", amount: 50.00, date: \"Oct 12, 2024\", status: \"completed\" },\n        { id: \"t3\", description: \"Usage Overage\", amount: 5.20, date: \"Sep 28, 2024\", status: \"completed\" },\n    ]);\n\n    const handleDeleteMethod = (id: string) => {\n        setMethods(prev => prev.filter(m => m.id !== id));\n    };\n\n    const handleSetDefault = (id: string) => {\n        setMethods(prev => prev.map(m => ({ ...m, isDefault: m.id === id })));\n    };\n\n    const handleAddNew = () => {\n        if (onAddNew) {\n            onAddNew();\n        } else if (addNewHref) {\n            window.location.href = addNewHref;\n        }\n    };\n\n    // Helper for currency symbol\n    const getCurrencySymbol = () => {\n        return new Intl.NumberFormat(\"en-US\", {\n            style: \"currency\",\n            currency: currentCurrency || currency,\n        })\n            .format(0)\n            .replace(/[0. \\d]/g, \"\");\n    };\n\n    return (\n        <div className={cn(containerVariants({ theme }), className)}>\n\n            {/* Top Cards: Balance & Spend */}\n            <div className=\"grid gap-4 md:grid-cols-2\">\n                <Card className={cn(cardVariants({ theme }), \"relative overflow-hidden\")}>\n                    {theme === \"classic\" && (\n                        <div className=\"absolute top-0 right-0 p-4 opacity-10\">\n                            <Wallet className=\"w-24 h-24\" />\n                        </div>\n                    )}\n                    <CardHeader className=\"pb-2\">\n                        <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\n                            <Wallet className=\"w-4 h-4\" />\n                            Wallet Balance\n                        </CardTitle>\n                    </CardHeader>\n                    <CardContent>\n                        <div className=\"text-3xl font-bold flex items-baseline\">\n                            <span className=\"text-xl mr-1 opacity-70 font-medium\">{getCurrencySymbol()}</span>\n                            <span>{convertedBalance.toFixed(2)}</span>\n                        </div>\n                        <div className=\"text-xs text-muted-foreground mt-1 flex items-center gap-1\">\n                            <span className={cn(\n                                \"flex items-center\",\n                                balanceTrend >= 0 ? \"text-emerald-500\" : \"text-destructive\"\n                            )}>\n                                {balanceTrend >= 0 ? (\n                                    <ArrowUpRight className=\"w-3 h-3 mr-0.5\" />\n                                ) : (\n                                    <ArrowDownLeft className=\"w-3 h-3 mr-0.5\" />\n                                )}\n                                {balanceTrend >= 0 ? \"+\" : \"\"}\n                                {Math.abs(balanceTrend).toFixed(1)}%\n                            </span>\n                            {balanceTrendLabel}\n                        </div>\n                    </CardContent>\n                </Card>\n\n                <Card className={cn(cardVariants({ theme }), \"relative overflow-hidden\")}>\n                    {theme === \"classic\" && (\n                        <div className=\"absolute top-0 right-0 p-4 opacity-10\">\n                            <CreditCard className=\"w-24 h-24\" />\n                        </div>\n                    )}\n                    <CardHeader className=\"pb-2\">\n                        <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\n                            <ArrowDownLeft className=\"w-4 h-4\" />\n                            Total Spend\n                        </CardTitle>\n                    </CardHeader>\n                    <CardContent>\n                        <div className=\"text-3xl font-bold flex items-baseline\">\n                            <span className=\"text-xl mr-1 opacity-70 font-medium\">{getCurrencySymbol()}</span>\n                            <span>{convertedSpend.toFixed(2)}</span>\n                        </div>\n                        <div className=\"text-xs text-muted-foreground mt-1 flex items-center gap-1\">\n                            <span className={cn(\n                                \"flex items-center\",\n                                spendTrend >= 0 ? \"text-emerald-500\" : \"text-destructive\"\n                            )}>\n                                {spendTrend >= 0 ? (\n                                    <ArrowUpRight className=\"w-3 h-3 mr-0.5\" />\n                                ) : (\n                                    <ArrowDownLeft className=\"w-3 h-3 mr-0.5\" />\n                                )}\n                                {spendTrend >= 0 ? \"+\" : \"\"}\n                                {Math.abs(spendTrend).toFixed(1)}%\n                            </span>\n                            {spendTrendLabel}\n                        </div>\n                    </CardContent>\n                </Card>\n            </div>\n\n            {/* Payment Methods - Liquid List */}\n            <Card className={cn(cardVariants({ theme }))}>\n                <CardHeader className=\"flex flex-row items-center justify-between\">\n                    <div>\n                        <CardTitle>Payment Methods</CardTitle>\n                        <CardDescription>Manage your saved cards and payment details.</CardDescription>\n                    </div>\n                    <Button size=\"sm\" className=\"gap-2\" onClick={handleAddNew}>\n                        <Plus className=\"w-4 h-4\" /> Add New\n                    </Button>\n                </CardHeader>\n                <CardContent>\n                    <div className=\"space-y-4\">\n                        <AnimatePresence initial={false}>\n                            {methods.map((method) => (\n                                <motion.div\n                                    key={method.id}\n                                    initial={{ opacity: 0, height: 0 }}\n                                    animate={{ opacity: 1, height: \"auto\" }}\n                                    exit={{ opacity: 0, height: 0, marginBottom: 0 }}\n                                    transition={{ duration: 0.3, ease: \"easeInOut\" }}\n                                    className=\"overflow-hidden\"\n                                >\n                                    <div className={cn(\n                                        \"group flex items-center justify-between p-4 rounded-xl border transition-all\",\n                                        method.isDefault\n                                            ? \"bg-primary/5 border-primary/20\"\n                                            : \"bg-background border-border hover:border-border/80\"\n                                    )}>\n                                        <div className=\"flex items-center gap-4\">\n                                            <div className=\"flex-shrink-0 w-12 h-8 flex items-center justify-center bg-muted rounded\">\n                                                <CardLogo type={method.type} />\n                                            </div>\n                                            <div>\n                                                <div className=\"font-medium flex items-center gap-2\">\n                                                    •••• •••• •••• {method.last4}\n                                                    {method.isDefault && (\n                                                        <Badge variant=\"secondary\" className=\"text-[10px] h-5 px-1.5 bg-primary/10 text-primary hover:bg-primary/20\">Default</Badge>\n                                                    )}\n                                                </div>\n                                                <div className=\"text-xs text-muted-foreground\">Expires {method.expiry}</div>\n                                            </div>\n                                        </div>\n\n                                        <div className=\"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity\">\n                                            {!method.isDefault && (\n                                                <Button variant=\"ghost\" size=\"sm\" onClick={() => handleSetDefault(method.id)}>\n                                                    Make Default\n                                                </Button>\n                                            )}\n                                            <Button variant=\"ghost\" size=\"icon\" className=\"text-destructive hover:text-destructive/90 hover:bg-destructive/10\" onClick={() => handleDeleteMethod(method.id)}>\n                                                <Trash2 className=\"w-4 h-4\" />\n                                            </Button>\n                                        </div>\n                                    </div>\n                                </motion.div>\n                            ))}\n                        </AnimatePresence>\n                    </div>\n                </CardContent>\n            </Card>\n\n            {/* Transaction History */}\n            <Card className={cn(cardVariants({ theme }))}>\n                <CardHeader>\n                    <CardTitle>Transaction History</CardTitle>\n                    <CardDescription>Recent billing activity and invoices.</CardDescription>\n                </CardHeader>\n                <CardContent>\n                    <div className=\"space-y-1\">\n                        {history.map((tx, i) => (\n                            <motion.div\n                                key={tx.id}\n                                initial={{ opacity: 0, y: 10 }}\n                                animate={{ opacity: 1, y: 0 }}\n                                transition={{ delay: i * 0.05 }}\n                                className=\"flex items-center justify-between p-3 hover:bg-muted/50 rounded-lg transition-colors group\"\n                            >\n                                <div className=\"flex items-center gap-3\">\n                                    <div className={cn(\n                                        \"w-8 h-8 rounded-full flex items-center justify-center\",\n                                        tx.status === \"completed\" ? \"bg-emerald-500/10 text-emerald-500\" : \"bg-yellow-500/10 text-yellow-500\"\n                                    )}>\n                                        <CheckCircle2 className=\"w-4 h-4\" />\n                                    </div>\n                                    <div>\n                                        <div className=\"text-sm font-medium\">{tx.description}</div>\n                                        <div className=\"text-xs text-muted-foreground\">{tx.date}</div>\n                                    </div>\n                                </div>\n                                <div className=\"flex items-center gap-4\">\n                                    <div className=\"font-medium text-sm\">{formatCurrency(tx.amount, { from: \"USD\" })}</div>\n                                    <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity\">\n                                        <MoreHorizontal className=\"w-4 h-4\" />\n                                    </Button>\n                                </div>\n                            </motion.div>\n                        ))}\n                    </div>\n                </CardContent>\n            </Card>\n\n        </div>\n    );\n}\n",
      "type": "registry:component",
      "target": "components/billingsdk/billing-settings-three.tsx"
    },
    {
      "path": "src/registry/billingsdk/demo/billing-settings-three-demo.tsx",
      "content": "\"use client\";\n\nimport { BillingSettingsThree } from \"@/components/billingsdk/billing-settings-three\";\nimport { BillingProvider } from \"@/lib/i18n-provider\";\n\nexport default function BillingSettingsThreeDemo() {\n    return (\n        <BillingProvider>\n            <div className=\"w-full p-6 bg-muted/20 min-h-screen flex items-center justify-center\">\n                <BillingSettingsThree theme=\"classic\" />\n            </div>\n        </BillingProvider>\n    );\n}\n",
      "type": "registry:component",
      "target": "components/billing-settings-three-demo.tsx"
    }
  ],
  "type": "registry:block"
}
