{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "payment-failure",
  "type": "registry:block",
  "title": "Payment Failure",
  "description": "A payment failure card component with retry, home, and support actions.",
  "dependencies": [
    "lucide-react"
  ],
  "registryDependencies": [
    "button",
    "card",
    "utils"
  ],
  "files": [
    {
      "path": "src/registry/billingsdk/payment-failure.tsx",
      "content": "\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { XCircle, RefreshCw, Home, Mail } from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  CardDescription,\r\n  CardFooter,\r\n  CardHeader,\r\n  CardTitle,\r\n} from \"@/components/ui/card\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nexport interface PaymentFailureProps\r\n  extends React.HTMLAttributes<HTMLDivElement> {\r\n  /**\r\n   * Optional heading at the top.\r\n   * @default \"Payment Failed\"\r\n   */\r\n  title?: string;\r\n\r\n  /**\r\n   * Short description under the title.\r\n   * @default \"We couldn't process your payment.\"\r\n   */\r\n  subtitle?: string;\r\n\r\n  /**\r\n   * Extra explanatory message under the reasons list.\r\n   * @default \"Please check your payment details and try again, or contact your bank for more information.\"\r\n   */\r\n  message?: string;\r\n\r\n  /**\r\n   * Bullet points explaining common failure reasons.\r\n   */\r\n  reasons?: string[];\r\n\r\n  /**\r\n   * Whether the primary action is in loading / retrying state.\r\n   */\r\n  isRetrying?: boolean;\r\n\r\n  /**\r\n   * Label for the primary CTA button.\r\n   * @default \"Try Again\"\r\n   */\r\n  retryButtonText?: string;\r\n\r\n  /**\r\n   * Label for the secondary button (e.g. Home).\r\n   * @default \"Home\"\r\n   */\r\n  secondaryButtonText?: string;\r\n\r\n  /**\r\n   * Label for the tertiary button (e.g. Support).\r\n   * @default \"Support\"\r\n   */\r\n  tertiaryButtonText?: string;\r\n\r\n  /**\r\n   * Called when user clicks the primary CTA (Try Again).\r\n   */\r\n  onRetry?: () => void;\r\n\r\n  /**\r\n   * Called when user clicks the secondary button (Home).\r\n   */\r\n  onSecondary?: () => void;\r\n\r\n  /**\r\n   * Called when user clicks the tertiary button (Support).\r\n   */\r\n  onTertiary?: () => void;\r\n}\r\n\r\nexport const PaymentFailure = React.forwardRef<\r\n  HTMLDivElement,\r\n  PaymentFailureProps\r\n>(\r\n  (\r\n    {\r\n      className,\r\n      title = \"Payment Failed\",\r\n      subtitle = \"We couldn't process your payment.\",\r\n      message = \"Please check your payment details and try again, or contact your bank for more information.\",\r\n      reasons = [\r\n        \"Insufficient funds in your account\",\r\n        \"Incorrect card details or expired card\",\r\n        \"Card declined by your bank\",\r\n        \"Network connection issues\",\r\n      ],\r\n      isRetrying = false,\r\n      retryButtonText = \"Try Again\",\r\n      secondaryButtonText = \"Home\",\r\n      tertiaryButtonText = \"Support\",\r\n      onRetry,\r\n      onSecondary,\r\n      onTertiary,\r\n      ...props\r\n    },\r\n    ref,\r\n  ) => {\r\n    return (\r\n      <Card ref={ref} className={cn(\"w-full max-w-md\", className)} {...props}>\r\n        <CardHeader className=\"space-y-4 text-center\">\r\n          <div className=\"flex justify-center\">\r\n            <div className=\"bg-destructive/10 rounded-full p-3\">\r\n              <XCircle className=\"text-destructive h-16 w-16\" />\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <CardTitle className=\"text-2xl font-bold\">{title}</CardTitle>\r\n            <CardDescription className=\"mt-2 text-base\">\r\n              {subtitle}\r\n            </CardDescription>\r\n          </div>\r\n        </CardHeader>\r\n\r\n        <CardContent className=\"space-y-4\">\r\n          {reasons.length > 0 && (\r\n            <div className=\"bg-muted space-y-2 rounded-lg p-4\">\r\n              <h3 className=\"text-sm font-semibold\">\r\n                Common reasons for payment failure:\r\n              </h3>\r\n              <ul className=\"text-muted-foreground list-inside list-disc space-y-1 text-sm\">\r\n                {reasons.map((reason) => (\r\n                  <li key={reason}>{reason}</li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          )}\r\n\r\n          {message && (\r\n            <p className=\"text-muted-foreground text-center text-sm\">\r\n              {message}\r\n            </p>\r\n          )}\r\n        </CardContent>\r\n\r\n        <CardFooter className=\"flex flex-col space-y-2\">\r\n          <Button\r\n            onClick={onRetry}\r\n            className=\"w-full\"\r\n            disabled={isRetrying || !onRetry}\r\n          >\r\n            {isRetrying ? (\r\n              <>\r\n                <RefreshCw className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                Retrying...\r\n              </>\r\n            ) : (\r\n              <>\r\n                <RefreshCw className=\"mr-2 h-4 w-4\" />\r\n                {retryButtonText}\r\n              </>\r\n            )}\r\n          </Button>\r\n\r\n          {(onSecondary || onTertiary) && (\r\n            <div className=\"flex w-full gap-2\">\r\n              {onSecondary && (\r\n                <Button\r\n                  onClick={onSecondary}\r\n                  variant=\"outline\"\r\n                  className=\"flex-1\"\r\n                >\r\n                  <Home className=\"mr-2 h-4 w-4\" />\r\n                  {secondaryButtonText}\r\n                </Button>\r\n              )}\r\n\r\n              {onTertiary && (\r\n                <Button\r\n                  onClick={onTertiary}\r\n                  variant=\"outline\"\r\n                  className=\"flex-1\"\r\n                >\r\n                  <Mail className=\"mr-2 h-4 w-4\" />\r\n                  {tertiaryButtonText}\r\n                </Button>\r\n              )}\r\n            </div>\r\n          )}\r\n        </CardFooter>\r\n      </Card>\r\n    );\r\n  },\r\n);\r\n\r\nPaymentFailure.displayName = \"PaymentFailure\";\r\n",
      "type": "registry:component",
      "target": "components/billingsdk/payment-failure.tsx"
    },
    {
      "path": "src/registry/billingsdk/demo/payment-failure-demo.tsx",
      "content": "\"use client\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { PaymentFailure } from \"@/registry/billingsdk/payment-failure\";\r\n\r\nexport function PaymentFailureDemo() {\r\n  const [isRetrying, setIsRetrying] = useState(false);\r\n  const router = useRouter();\r\n\r\n  const handleRetry = async () => {\r\n    setIsRetrying(true);\r\n\r\n    try {\r\n      // TODO: your actual retry logic (redirect to payment, call API, etc.)\r\n      await new Promise((resolve) => setTimeout(resolve, 1500));\r\n      // e.g. router.push(\"/checkout\");\r\n    } finally {\r\n      setIsRetrying(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-background flex min-h-screen items-center justify-center p-4\">\r\n      <PaymentFailure\r\n        isRetrying={isRetrying}\r\n        onRetry={handleRetry}\r\n        onSecondary={() => router.push(\"/\")}\r\n        onTertiary={() => router.push(\"/support\")}\r\n        reasons={[\r\n          \"Insufficient funds in your account\",\r\n          \"Incorrect card details or expired card\",\r\n          \"Card declined by your bank\",\r\n          \"Network connection issues\",\r\n        ]}\r\n        // Optional overrides:\r\n        // title=\"Payment declined\"\r\n        // subtitle=\"Your bank declined the transaction.\"\r\n        // retryButtonText=\"Retry Payment\"\r\n        // secondaryButtonText=\"Go Home\"\r\n        // tertiaryButtonText=\"Contact Support\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n",
      "type": "registry:component",
      "target": "components/payment-failure-demo.tsx"
    }
  ]
}