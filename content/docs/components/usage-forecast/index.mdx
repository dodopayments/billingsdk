---
title: Usage Forecast
description: Smart usage forecasting component with trend analysis, cost projections, and predictive alerts.
---

<Tabs items={['Preview', 'Code']} className="bg-transparent border-none">
  <Tab value="Preview" className="border-none bg-transparent p-0 mt-3">
    <PreviewComponents registryName="usage-forecast">
      <UsageForecastDemo />
    </PreviewComponents>
  </Tab>

  <Tab value="Code" className="mt-3">
  <include cwd lang="tsx" meta='title="src/components/usage-forecast-demo.tsx"'>src/components/usage-forecast-demo.tsx</include>
  </Tab>
</Tabs>

## Installation

<Tabs items={['shadcn', 'billingSDK']} defaultValue="shadcn" className="bg-transparent border-none">
  <Tab value="shadcn" className="border-none bg-transparent p-0 mt-3">
    <Tabs items={['npx', 'pnpm', 'yarn']} defaultValue="npx" groupId="installation-tabs">
      <Tab value="npx">
        ```bash
        npx shadcn@latest add @billingsdk/usage-forecast
        ```
      </Tab>
      <Tab value="pnpm">
        ```bash
        pnpm dlx shadcn@latest add @billingsdk/usage-forecast
        ```
      </Tab>
      <Tab value="yarn">
        ```bash
        yarn dlx shadcn@latest add @billingsdk/usage-forecast
        ```
      </Tab>
    </Tabs>
  </Tab>
  <Tab value="billingSDK" className="border-none bg-transparent p-0 mt-3">
    <Tabs items={['npx', 'pnpm', 'yarn']} defaultValue="npx" groupId="billingsdk-cli-tabs">
      <Tab value="npx">
        ```bash
        npx @billingsdk/cli add usage-forecast
        ```
      </Tab>
      <Tab value="pnpm">
        ```bash
        pnpm dlx @billingsdk/cli add usage-forecast
        ```
      </Tab>
      <Tab value="yarn">
        ```bash
        yarn dlx @billingsdk/cli add usage-forecast
        ```
      </Tab>
    </Tabs>
  </Tab>
</Tabs>

## Usage

```tsx
import { UsageForecast, type UsageForecastProps, type UsageMetric } from "@/components/billingsdk/usage-forecast";
```

### Basic Usage

```tsx
const metrics: UsageMetric[] = [
  {
    name: "API Calls",
    currentUsage: 45000,
    limit: 50000,
    unitCost: 0.001,
    currency: "$",
    unitName: "calls",
    historicalData: [
      {
        date: "2024-01-01",
        usage: 35000,
        cost: 35.00
      },
      // ... more historical data
    ]
  }
];

<UsageForecast
  title="Usage Forecast"
  description="Predictions based on usage patterns"
  metrics={metrics}
  forecastDays={30}
  showChart={true}
  showCostProjection={true}
/>
```

### Advanced Usage with Alerts

```tsx
const handleOptimization = (metric: UsageMetric, suggestion: string) => {
  console.log(`Optimization for ${metric.name}: ${suggestion}`);
};

<UsageForecast
  title="Smart Usage Analytics"
  description="AI-powered usage predictions with cost optimization"
  metrics={metrics}
  forecastDays={30}
  size="lg"
  showChart={true}
  showCostProjection={true}
  alertThresholds={[75, 90, 100]}
  onOptimizationClick={handleOptimization}
/>
```

## Features

- **Smart Trend Analysis**: Compares recent vs. historical usage patterns to predict future trends
- **Cost Projections**: Automatically calculates projected costs based on usage patterns and unit pricing
- **Simplified Charts**: Clean bar charts with smooth animations showing historical and projected data
- **Predictive Alerts**: Threshold-based warnings with actionable suggestions for optimization
- **Multiple Metrics**: Support for multiple usage types (API calls, storage, bandwidth, etc.)
- **Responsive Design**: Adapts to different screen sizes with mobile-first approach
- **Motion Animations**: Smooth transitions and hover effects using Motion (Framer Motion successor)
- **Icon-Free Design**: Uses Unicode symbols and emoji for better theme compatibility
- **Theme Optimized**: Properly supports light/dark mode with CSS variable integration

## Props

| Prop | Type | Required | Description |
|------|------|----------|-------------|
| `metrics` | `UsageMetric[]` | ✅ | Array of usage metrics to forecast |
| `forecastDays` | `number` | ❌ | Number of days to forecast (default: 30) |
| `className` | `string` | ❌ | Additional CSS classes for styling |
| `size` | `"sm" \| "md" \| "lg"` | ❌ | Component size variant (default: "md") |
| `title` | `string` | ❌ | Optional heading text |
| `description` | `string` | ❌ | Optional description text |
| `showCostProjection` | `boolean` | ❌ | Show cost projections (default: true) |
| `showChart` | `boolean` | ❌ | Show interactive mini-charts (default: true) |
| `alertThresholds` | `number[]` | ❌ | Usage percentage thresholds for alerts (default: [75, 90, 100]) |
| `onOptimizationClick` | `(metric: UsageMetric, suggestion: string) => void` | ❌ | Callback for optimization button clicks |

## Type Definitions

### UsageMetric

```ts
interface UsageMetric {
  name: string;
  currentUsage: number;
  limit: number;
  unitCost: number;
  currency?: string;
  historicalData: HistoricalUsage[];
  unitName?: string;
}
```

### HistoricalUsage

```ts
interface HistoricalUsage {
  date: string;
  usage: number;
  cost?: number;
  isProjected?: boolean;
}
```

### ForecastAlert

```ts
interface ForecastAlert {
  type: "warning" | "critical" | "info";
  message: string;
  suggestedAction?: string;
  costImpact?: number;
}
```

## Forecasting Algorithm

The component uses a sophisticated trend analysis algorithm:

1. **Historical Analysis**: Compares the last 7 days vs. the previous 7 days to calculate trend percentage
2. **Projection Calculation**: Uses daily growth rate to project future usage over the specified forecast period
3. **Confidence Scoring**: Calculates confidence based on trend stability (more volatile trends = lower confidence)
4. **Alert Generation**: Generates contextual alerts based on usage thresholds and projected timeline

## Theming

The usage forecast component follows the [shadcn/ui](https://ui.shadcn.com) design system and uses CSS variables for theming. Customize colors by overriding these variables in your CSS:

```css
:root {
  --primary: 222.2 84% 4.9%;
  --primary-foreground: 210 40% 98%;
  --muted: 210 40% 96%;
  --muted-foreground: 215.4 16.3% 46.9%;
  --border: 214.3 31.8% 91.4%;
}
```

## Examples

### Multi-Metric Dashboard

```tsx
const dashboardMetrics: UsageMetric[] = [
  {
    name: "API Calls",
    currentUsage: 45000,
    limit: 50000,
    unitCost: 0.001,
    currency: "$",
    unitName: "calls",
    historicalData: generateHistoricalData(35000)
  },
  {
    name: "Storage",
    currentUsage: 750,
    limit: 1000,
    unitCost: 0.1,
    currency: "$",
    unitName: "GB",
    historicalData: generateHistoricalData(600)
  },
  {
    name: "Bandwidth",
    currentUsage: 2400,
    limit: 5000,
    unitCost: 0.05,
    currency: "$",
    unitName: "GB",
    historicalData: generateHistoricalData(1800)
  }
];

<UsageForecast
  title="Usage Dashboard"
  description="Comprehensive usage analytics and forecasting"
  metrics={dashboardMetrics}
  size="lg"
  showChart={true}
  onOptimizationClick={(metric, suggestion) => {
    // Handle optimization suggestions
    toast.info(`${metric.name}: ${suggestion}`);
  }}
/>
```

### Compact Forecast View

```tsx
<UsageForecast
  metrics={[singleMetric]}
  size="sm"
  showChart={false}
  showCostProjection={false}
  className="max-w-md"
/>
```

## Credits
- Designed and developed by the BillingSDK team
- Uses Motion for smooth animations
- Built with TypeScript for type safety
- Follows accessibility best practices

## Component Creator
- Aditya Garud - [Portfolio](https://aditya-garud.me/) | [GitHub](https://github.com/yashranaway)