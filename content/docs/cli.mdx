---
title: Billing SDK CLI Reference
description: Complete guide to the Billing SDK CLI for project setup and component management
---

import { Callout } from 'fumadocs-ui/components/callout'
import { Tab, Tabs } from 'fumadocs-ui/components/tabs'
import { Cards, Card } from 'fumadocs-ui/components/card'

The Billing SDK CLI is a powerful command-line tool that helps you initialize new billing projects, add components, and manage your billing infrastructure with ease.

## Installation

The CLI is published as an npm package and can be used with `npx` without installation:

```bash
npx @billingsdk/cli --help
```

For frequent use, you can install it globally:

```bash
npm install -g @billingsdk/cli
@billingsdk/cli --help
```

## Commands

<Cards>
  <Card title="init">
    Initialize a new billing project with framework setup and payment provider integration
  </Card>

  <Card title="add">
    Add individual billing components to your existing project
  </Card>

  <Card title="build">
    Build the component registry for distribution (developer tool)
  </Card>
</Cards>

## `@billingsdk/cli init`

Initialize a new billing project with complete setup including framework configuration, payment provider integration, and essential dependencies.

### Usage

```bash
npx @billingsdk/cli init
```

### What it does

1. **Framework Selection**: Choose your preferred framework (Next.js, Express.js, or Hono)
2. **Provider Selection**: Select your payment provider (currently Dodo Payments)
3. **Template Installation**: Downloads and installs framework-specific templates
4. **Dependency Management**: Automatically installs required dependencies
5. **File Generation**: Creates necessary configuration files and boilerplate code

### Interactive Setup

The command launches an interactive setup process:

```bash
npx @billingsdk/cli init
```

You'll be prompted to select:
- **Framework**: Next.js (with App Router), Express.js (Node.js web framework), or Hono (lightweight web framework for edge runtimes)
- **Payment Provider**: Dodo Payments

### Generated Files

After running `init`, you'll get:

<Tabs items={['Next.js + Dodo Payments', 'Express.js + Dodo Payments', 'React.js + Dodo Payments', 'Next.js + Stripe', 'Express.js + Stripe', 'React.js + Stripe', 'Hono + Dodo Payments']}>
  <Tab value="Next.js + Dodo Payments">
    ```
    your-project/
    ├── app/api/
    │   ├── (dodopayments)/
    │   │   ├── checkout/route.ts
    │   │   ├── customer/route.ts
    │   │   ├── customer/payments/route.ts
    │   │   ├── customer/subscriptions/route.ts
    │   │   ├── product/route.ts
    │   │   ├── products/route.ts
    │   │   └── webhook/route.ts
    ├── hooks/
    │   └── useBilling.ts
    ├── lib/
    │   └── dodopayments.ts
    └── .env.example
    ```
  </Tab>
  <Tab value="Express.js + Dodo Payments">
    ```
    your-project/
    ├── src/
    │   ├── lib/
    │   │   └── dodopayments.ts
    │   └── routes/
    │       └── dodopayments/
    │           ├── route.ts
    │           ├── checkout.ts
    │           ├── customer.ts
    │           ├── payments.ts
    │           ├── products.ts
    │           ├── subscriptions.ts
    │           └── webhook.ts
    └── .env.example
    ```
  </Tab>
   <Tab value="Express.js + Stripe">
    ```
    your-project/
    ├── src/
    │   ├── lib/
    │   │   └── stripe.ts
    │   └── routes/
    │       └── stripe/
    │           ├── route.ts
    │           ├── checkout.ts
    │           ├── customer.ts
    │           ├── payments.ts
    │           ├── products.ts
    │           ├── subscriptions.ts
    │           └── webhook.ts
    └── .env.example
    ```
  </Tab>
   <Tab value="React.js + Dodo Payments">
    ```
    your-project/
    ├── src/
    │   ├── hooks/
    │   │   └── useBilling.ts
    │   └── lib/
    │       └── dodopayments.ts
    └── .env.example
    ```
  </Tab>
  <Tab value="Hono + Dodo Payments">
    ```
    your-project/
    ├── src/
    │   ├── lib/
    │   │   └── dodopayments.ts
    │   └── routes/
    │       ├── route.ts
    │       └── dodopayments/
    │           ├── checkout.ts
    │           ├── customer.ts
    │           ├── payments.ts
    │           ├── products.ts
    │           ├── subscriptions.ts
    │           └── webhook.ts
    └── .env.example
    ```
  </Tab>
</Tabs>

### API Routes Included

The init command sets up comprehensive API routes for:

- **Checkout**: Payment processing and order creation
- **Customer Management**: Customer data and subscription handling
- **Product Management**: Product catalog and pricing
- **Webhook Handling**: Payment provider webhook integration

### Dependencies Installed

<Tabs items={['Next.js', 'Express.js', "React.js", "Hono"]}>
  <Tab value="Next.js">
    ```json
    {
      "dependencies": {
        "dodopayments": "latest",
        "standardwebhooks": "latest",
        "zod": "latest"
      }
    }
    ```
  </Tab>
  <Tab value="Express.js">
    ```json
    {
      "dependencies": {
        "dodopayments": "latest",
        "standardwebhooks": "latest",
        "zod": "latest",
        "express": "latest",
        "@types/express": "latest"
      }
    }
    ```
  </Tab>
  <Tab value="React.js">
    ```json
    {
      "dependencies": {
        "dodopayments": "latest"
      }
    }
    ```
  </Tab>
  <Tab value="Hono">
    ```json
    {
      "dependencies": {
        "dodopayments": "latest",
        "standardwebhooks": "latest",
        "zod": "latest",
        "hono": "latest",
        "@types/bun": "latest"
      }
    }
    ```
  </Tab>
</Tabs>

<Callout title="Environment Setup">
  After running `init`, copy the example environment file and configure your Dodo Payments API keys and webhook secrets:

  - **Next.js** → copy `.env.example` to `.env.local`
  - **Express.js** → copy `.env.example` to `.env`
  - **React.js** → copy `.env.example` to `.env` (or `.env.local` if using Vite)
  - **Hono** → copy `.env.example` to `.env`

  Make sure to restart your dev server after updating environment variables.
</Callout>
## Express.js Setup Instructions

### Basic Express.js Integration

After running `@billingsdk/cli init` and selecting Express.js, you'll need to integrate the generated routes into your Express application:

```javascript
// app.js or server.js
const express = require('express');
const { dodopaymentsRouter } = require('./src/routes/dodopayments/route');

const app = express();

// Middleware
app.use(express.json());

// Mount DodoPayments routes
app.use('/api/dodopayments', dodopaymentsRouter);

// Start server
const PORT = process.env.PORT || 3000;
app.listen(PORT, () => {
  console.log(`Server running on port ${PORT}`);
});
```

### Environment Configuration

Create a `.env` file in your project root:

```bash
# DodoPayments Configuration
DODO_PAYMENTS_API_KEY=your_api_key_here
DODO_PAYMENTS_ENVIRONMENT=test_mode
DODO_PAYMENTS_WEBHOOK_KEY=your_webhook_key_here

# Server Configuration
PORT=3000
NODE_ENV=development
```

### Available API Endpoints

The Express.js template provides these endpoints:

- `POST /api/dodopayments/checkout` - Create checkout sessions
- `GET /api/dodopayments/customer` - Retrieve customer data
- `POST /api/dodopayments/customer` - Create new customers
- `PUT /api/dodopayments/customer` - Update customer information
- `GET /api/dodopayments/customer/subscriptions` - Get customer subscriptions
- `GET /api/dodopayments/customer/payments` - Get customer payment history
- `GET /api/dodopayments/products` - List all products
- `GET /api/dodopayments/product` - Get specific product details
- `GET /api/dodopayments/subscriptions` - Retrieve subscription details
- `GET /api/dodopayments/payments` - Get payment information
- `POST /api/dodopayments/webhook` - Handle DodoPayments webhooks

### TypeScript Support

The template includes full TypeScript support. To use with TypeScript:

```bash
npm install -D typescript @types/node ts-node nodemon
```

Create a `tsconfig.json`:

```json
{
  "compilerOptions": {
    "target": "ES2020",
    "module": "commonjs",
    "lib": ["ES2020"],
    "outDir": "./dist",
    "rootDir": "./src",
    "strict": true,
    "esModuleInterop": true,
    "skipLibCheck": true,
    "forceConsistentCasingInFileNames": true,
    "resolveJsonModule": true
  },
  "include": ["src/**/*"],
  "exclude": ["node_modules", "dist"]
}
```

Update your `package.json` scripts:

```json
{
  "scripts": {
    "dev": "nodemon --exec ts-node src/app.ts",
    "build": "tsc",
    "start": "node dist/app.js"
  }
}
```

## Hono Setup Instructions

### Basic Hono Integration

After running `@billingsdk/cli init` and selecting Hono, you'll need to integrate the generated routes into your Hono application:

```typescript
// src/index.ts
import { Hono } from 'hono'
import { dodopaymentsRouter } from './routes/route'

const app = new Hono()

// Mount DodoPayments routes
app.route('/api/dodopayments', dodopaymentsRouter)

// Start server
export default app
```

### Environment Configuration

Create a `.env` file in your project root:

```bash
# DodoPayments Configuration
DODO_PAYMENTS_API_KEY=your_api_key_here
DODO_PAYMENTS_ENVIRONMENT=test_mode
DODO_PAYMENTS_WEBHOOK_KEY=your_webhook_key_here

# Server Configuration
PORT=3000
```

### Available API Endpoints

The Hono template provides these endpoints:

- `POST /api/dodopayments/checkout` - Create checkout sessions
- `GET /api/dodopayments/customer` - Retrieve customer data
- `POST /api/dodopayments/customer` - Create new customers
- `PUT /api/dodopayments/customer` - Update customer information
- `GET /api/dodopayments/customer/subscriptions` - Get customer subscriptions
- `GET /api/dodopayments/customer/payments` - Get customer payment history
- `GET /api/dodopayments/products` - List all products
- `GET /api/dodopayments/product` - Get specific product details
- `GET /api/dodopayments/subscriptions` - Retrieve subscription details
- `GET /api/dodopayments/payments` - Get payment information
- `POST /api/dodopayments/webhook` - Handle DodoPayments webhooks

### Running with Bun

Hono works great with Bun. To run your application:


Add this to your `package.json` scripts:

```json
{
  "scripts": {
    "dev": "bun run --hot src/routes/route.ts"
  }
}
```

## React.js Setup Instructions

### Basic React.js Integration

After running `@billingsdk/cli init` and selecting **React.js**, the CLI generates a `lib/dodopayments.ts` and a `hooks/useBilling.ts` file for your project.

You can use the `useBilling` hook directly in your components to interact with the backend API:

```tsx
// src/App.tsx or any component
import React, { useEffect } from 'react'
import { useBilling } from './hooks/useBilling'

function App() {
  const { fetchProducts, loading, error } = useBilling()

  useEffect(() => {
    const loadProducts = async () => {
      try {
        const products = await fetchProducts()
        console.log('Products:', products)
      } catch (err) {
        console.error('Failed to fetch products:', err)
      }
    }
    loadProducts()
  }, [fetchProducts])

  if (loading) return <p>Loading...</p>
  if (error) return <p style={{ color: 'red' }}>{error}</p>

  return <h1>Welcome to DodoPayments + React</h1>
}

export default App
```

### Environment Configuration

Create a `.env` (or `.env.local` if using Vite) in your project root:

```bash
# DodoPayments Configuration
VITE_DODO_PAYMENTS_API_KEY=your_api_key_here
VITE_DODO_PAYMENTS_ENVIRONMENT=test_mode

# Backend API URL (Express.js server or Next.js API routes)
VITE_BASE_URL=http://localhost:3000
```

## `@billingsdk/cli add`

Add individual billing components to your existing project using the shadcn/ui registry system.

### Usage

```bash
npx @billingsdk/cli add <component-name>
```

### Available Components

See the [components](/docs/components) page for a list of available components.

### Examples

```bash
# Add a pricing table
npx @billingsdk/cli add pricing-table-one

# Add subscription management
npx @billingsdk/cli add subscription-management

# Add usage monitoring
npx @billingsdk/cli add usage-meter-circle
```

### What happens

1. Downloads the component configuration from the registry
2. Installs the component files in your `components/billingsdk/` directory
3. Updates your project configuration if needed
4. Installs any additional dependencies


<Callout title="Developer Tool">
  This command is primarily used by Billing SDK maintainers. Regular users typically don't need to run this command.
</Callout>

## Supported Frameworks

### Next.js (App Router)
- ✅ **Status**: Fully supported
- 📁 **Structure**: App Router with API routes
- 🔧 **Features**: Server components, server actions, middleware support

### Express.js
- ✅ **Status**: Fully supported
- 📁 **Structure**: Modular route-based architecture
- 🔧 **Features**: RESTful API routes, middleware support, TypeScript integration

### Hono
- ✅ **Status**: Fully supported
- 📁 **Structure**: Lightweight, modular architecture
- 🔧 **Features**: RESTful API routes, middleware support, TypeScript integration, edge runtime compatibility

### Coming Soon
- 🚧 **Fastify**: High-performance backend framework
- 🚧 **Additional React Frameworks**: Vite, Remix support

## Supported Payment Providers

### Dodo Payments
- ✅ **Status**: Fully supported
- 🔧 **Features**: Payment processing, subscriptions, webhooks
- 📚 **Integration**: Complete API route templates included

### Coming Soon
- 🚧 **Stripe**: Industry-standard payment processing
- 🚧 **Additional Providers**: Based on community demand

## Configuration

### Environment Variables

After running `@billingsdk/cli init`, configure these environment variables:

```bash
# Dodo Payments Configuration
DODO_PAYMENTS_API_KEY=your-api-key
DODO_PAYMENTS_WEBHOOK_KEY=your-webhook-secret
DODO_PAYMENTS_RETURN_URL=https://yourdomain.com/checkout/success
DODO_PAYMENTS_ENVIRONMENT="test"or"live"

# Next.js Configuration
NEXT_PUBLIC_APP_URL=http://localhost:3000
```

### Customizing Templates

The CLI uses templates from the public registry. You can:
- Modify generated files after installation
- Create custom templates for your organization
- Extend existing components with additional features

## Troubleshooting

### Common Issues

**Command not found**
```bash
# Make sure you're using npx
npx @billingsdk/cli --help
```

**Permission errors**
```bash
# On Unix systems, you might need to adjust permissions
chmod +x node_modules/.bin/@billingsdk/cli
```

**Network issues**
```bash
# Check your internet connection
# The CLI downloads templates from @billingsdk/cli.com
```

### Getting Help

```bash
# Show all available commands
npx @billingsdk/cli --help

# Get help for a specific command
npx @billingsdk/cli init --help
npx @billingsdk/cli add --help
```

## Development

### Building the CLI

```bash
cd packages/cli
npm run build
```

### Development Mode

```bash
cd packages/cli
npm run dev
```

### Contributing

The CLI is open source and welcomes contributions. See our [contribution guide](/docs/contribution-open-source) for details.

<Callout title="Need Help?">
  If you encounter issues or have questions about the CLI, please [open an issue](https://github.com/dodopayments/billingsdk/issues) on GitHub.
</Callout>
